<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  
  <style>
	model-viewer {
		position:absolute;
		border: 0;
		border-radius: 0%;
		height:50%;
		width:100%;
		margin: 0 auto;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
	}
		
	
	</style>
  </head>

  <body>
	<audio id="background-music" autoplay loop>
		<source src="bgm.mp3" type="audio/mp3">
		Your browser does not support the audio element.
	</audio>
	  <model-viewer id="gameboy" src="ball.glb"
			ios-src="../Model_Gameboy.usdz"
			alt="A 3D model of an astronaut"
			ar
			auto-rotate
	    camera-controls>
    <button id = "arbutton" slot="ar-button" style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; ">
        👋 Activate AR
    </button>
    </model-viewer>
    
  </body>


  <script>
    // 获取返回按钮
    const modelViewer = document.querySelector('model-viewer');
    const arbutton = document.querySelector('arbutton');
    let ar=false;
    
    
    function isMobileDeviceAR() {
      const userAgent = navigator.userAgent.toLowerCase();
      return /iphone|ipod|android|windows phone|blackberry|iemobile/.test(userAgent);
    }

    const music = document.getElementById('background-music');
    arbutton.addEventListener("click", function() {
      music.play();
    });
  </script>
</html>
