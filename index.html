<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  
  <style>
	model-viewer {
		position:absolute;
		border: 0;
		border-radius: 0%;
		height:50%;
		width:100%;
		margin: 0 auto;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
	}
  #ar {
    background-color: rgba(0, 0, 0, 0.396);
    border-radius: 4px;
    border: none;
    position: absolute;
    top: 50%;
    right: 50%;
    font-size: 20px; /* 控制字体大小 */
  }
		
	
	</style>
  </head>

  <body>
	<audio id="background-music" autoplay loop>
		<source src="bgm.mp3" type="audio/mp3">
		Your browser does not support the audio element.
	</audio>
	  <model-viewer id="gameboy" src=""
			ios-src="../Model_Gameboy.usdz"
			alt="A 3D model of an astronaut"
      ar-modes="scene-viewer"
      disable-zoom
			auto-rotate
	    camera-controls>
      <button id='ar' slot="ar-button">
        AR模式
      </button>
    </model-viewer>
    
  </body>


  <script>
    // 获取返回按钮
    const modelViewer = document.querySelector('model-viewer');
    function hideModel() {
    // 隐藏模型
    modelViewer.style.display = 'none';
    }
    let ar=false;
    
    var date = new Date();
    console.log(date.getHours());
    if(date.getHours()<11){
      //modelViewer.src='ball1.glb';
    }
    else{
      //modelViewer.src='ball.glb';
    }
    function isMobileDeviceAR() {
      const userAgent = navigator.userAgent.toLowerCase();
      return /iphone|ipod|android|windows phone|blackberry|iemobile/.test(userAgent);
    }

    const music = document.getElementById('background-music');
    const arbutton = document.getElementById('ar');
    arbutton.addEventListener("touchstart", function() {
      // 尝试关闭当前页面
      if(date.getHours()<11){
      modelViewer.src='ball1.glb';
      }
      else{
      modelViewer.src='ball.glb';
      }
      //music.play();
      //modelViewer.activateAR();
    });
  </script>
</html>
